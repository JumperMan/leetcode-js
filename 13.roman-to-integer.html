<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    @import url(css/global.css);
  </style>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>roman-to-integer</title>
</head>

<body>
  <div id='leetcode-box'>
    <h2>roman-to-integer</h2>
  </div>
  <div id='result'></div>
  <script>
    /**
 * @param {string} s
 * @return {number}
 */
    var romanToInt = function (s) {
      // let M = ['', 'M ', 'MM', 'MMM'] // 1000, 2000, 3000 
      // let C = ['', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM'] // 100~900
      // let X = ['', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC'] // 10~90
      // let I = ['', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'] // 1~9
      // 1.violent solution
      // let num = 0
      // for (let i = 0; i < s.length; i++) {
      //   switch (s[i]) {
      //     case 'M':
      //       num += 1000
      //       break;
      //     case 'D':
      //       num += 500
      //       break
      //     case 'C':
      //       num += 100
      //       break
      //     case 'L':
      //       num += 50
      //       break
      //     case 'X':
      //       num += 10
      //       break
      //     case 'V':
      //       num += 5
      //       break
      //     case 'I':
      //       num += 1
      //       break
      //     default:
      //       break;
      //   }
      // }
      // if (s.indexOf('CD') !== -1) num = num - 200
      // if (s.indexOf('CM') !== -1) num = num - 200
      // if (s.indexOf('XL') !== -1) num = num - 20
      // if (s.indexOf('XC') !== -1) num = num - 20
      // if (s.indexOf('IV') !== -1) num = num - 2
      // if (s.indexOf('IX') !== -1) num = num - 2
      // return num

      // 2.use the map 
      //   const MAP = {
      //     'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000
      //   }
      //   let num = 0
      //   for (let i = 0; i < s.length; i++) {
      //     if (i < s.length - 1 && MAP[s[i]] < MAP[s[i + 1]]) {
      //       num -= MAP[s[i]]
      //     } else {
      //       num += MAP[s[i]]
      //     }
      //   }
      //   return num

      // 3. use the map, and the last value
      const MAP = {
        'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000
      }
      let sum = 0
      let lastValue = 0
      for (let i = s.length - 1; i >= 0; i--) {
        let currenValue = MAP[s[i]]
        if (currenValue < lastValue) {
          sum -= currenValue
        } else {
          sum += currenValue
        }
        lastValue = currenValue
      }
      return sum
    }
    let result = 'no data available'
    result = romanToInt('IX')

    document.querySelector('#result').innerHTML = 'result is: ' + result
  </script>
</body>

</html>