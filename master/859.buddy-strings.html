<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    @import url(../css/global.css);
  </style>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>859.buddy-strings</title>
</head>

<body>
  <div id='leetcode-box'>
    <h2>859.buddy-strings</h2>
  </div>
  <div id='result'></div>
  <script>
    /**
     * @param {string} s
     * @param {string} goal
     * @return {boolean}
     */
    const buddyStrings = function (s, goal) {
      // 1.brute force
      // if (s.length !== goal.length) return false

      // if (s === goal) {
      //   const count = new Array(26).fill(0)
      //   const aCode = 'a'.charCodeAt() // equals 97
      //   for (let i = 0; i < s.length; ++i) {
      //     count[s[i].charCodeAt() - aCode]++
      //     if (count[s[i].charCodeAt() - aCode] > 1) return true
      //   }
      //   return false
      // } else {
      //   let first = -1,
      //     second = -1
      //   for (let i = 0; i < s.length; ++i) {
      //     if (s[i] !== goal[i]) {
      //       if (first === -1) {
      //         first = i
      //       } else if (second === -1) {
      //         second = i
      //       } else {
      //         return false
      //       }
      //     }
      //   }
      //   return (second !== -1 && s[first] === goal[second] && s[second] === goal[first])
      // }

      // 2.simpler
      if (s.length !== goal.length) return false
      if (s === goal) return s.length > new Set(s).size
      let first = '',
        second = ''
      for (let i = 0; i < s.length; ++i) {
        if (s[i] !== goal[i]) {
          first = s[i] + first
          second = second + goal[i]
        }
        if (first.length > 2) return false
      }
      return first.length === 2 && first == second
    }
    let result = 'no data available'
    result = buddyStrings('cccab', 'cccba')
    document.querySelector('#result').innerHTML = 'result is: ' + JSON.stringify(result)
  </script>
</body>

</html>